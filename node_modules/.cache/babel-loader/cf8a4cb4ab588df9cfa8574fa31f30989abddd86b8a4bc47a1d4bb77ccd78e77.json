{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const SimpleBrowser=()=>{const[url,setUrl]=useState(\"https://www.google.com/?igu=1\");const[hist,setHist]=useState([\"https://bing.com\",\"https://bing.com\"]);const[isTyping,setIsTyping]=useState(false);const[ierror,setIerror]=useState(true);// Check for ?destination= param on load\nuseEffect(()=>{const params=new URLSearchParams(window.location.search);const destination=params.get(\"destination\");if(destination){setUrl(destination.startsWith(\"http\")?destination:\"https://\"+destination);}},[]);const isValidURL=string=>{const regex=/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g;return string.match(regex)!==null;};const action=e=>{const iframe=document.getElementById(\"isite\");const x=e.target.dataset.payload;if(iframe&&x===0){iframe.src=iframe.src;// Reload the current page in the iframe\n}else if(iframe&&x===1){setHist([url,\"https://www.bing.com\"]);setUrl(\"https://www.bing.com\");setIsTyping(false);}else if(iframe&&x===2){setHist([url,\"https://www.google.com/webhp?igu=1\"]);setUrl(\"https://www.google.com/webhp?igu=1\");setIsTyping(false);}else if(x===3){if(e.key===\"Enter\"){let qry=e.target.value;if(isValidURL(qry)){if(!qry.startsWith(\"http\")){qry=\"https://\"+qry;}}else{qry=\"https://www.bing.com/search?q=\"+qry;}e.target.value=qry;setHist([hist[0],qry]);setUrl(qry);setIsTyping(false);}}else if(x===4){setUrl(hist[0]);setIsTyping(false);}else if(x===5){setUrl(hist[1]);setIsTyping(false);}};const typing=e=>{if(!isTyping){setIsTyping(true);setHist([url,url]);}setUrl(e.target.value);};const handleFailed=()=>{setIerror(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"simple-browser w-screen h-screen flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"addressBar w-full h-10 flex items-center bg-gray-100 px-2\",children:/*#__PURE__*/_jsx(\"input\",{className:\"w-full h-8 px-3 rounded border border-gray-300\",type:\"text\",value:url,onChange:typing,onKeyDown:action,\"data-payload\":3,placeholder:\"Type URL or search query\"})}),/*#__PURE__*/_jsxs(\"div\",{className:`bg-red-100 w-64 rounded p-2 absolute bottom-0 right-0 my-4 mx-12 transition-all ${ierror?\"opacity-100\":\"opacity-0 pointer-events-none\"}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute bg-red-400 m-1 text-red-900 text-xs px-1 font-bold handcr top-0 right-0 rounded hover:bg-red-500\",onClick:handleFailed,children:\"x\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-800 text-xs font-medium\",children:[\"If it shows \",/*#__PURE__*/_jsx(\"b\",{children:\"\\\"Refused to connect\\\"\"}),\", then\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"that website doesn't allow \"}),\" other websites to show their content. \",/*#__PURE__*/_jsx(\"b\",{children:\"I cannot fix it\"}),\".\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow\",children:/*#__PURE__*/_jsx(\"iframe\",{src:url,id:\"isite\",sandbox:\"allow-scripts allow-same-origin allow-forms allow-modals allow-downloads allow-popups allow-presentation allow-popups-to-escape-sandbox\",className:\"w-full h-full\",frameBorder:\"0\",title:\"browser-iframe\"})})]});};","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","SimpleBrowser","url","setUrl","hist","setHist","isTyping","setIsTyping","ierror","setIerror","params","URLSearchParams","window","location","search","destination","get","startsWith","isValidURL","string","regex","match","action","e","iframe","document","getElementById","x","target","dataset","payload","src","key","qry","value","typing","handleFailed","className","children","type","onChange","onKeyDown","placeholder","onClick","id","sandbox","frameBorder","title"],"sources":["/Users/eligavin/Downloads/win11stuff/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport const SimpleBrowser = () => {\n  const [url, setUrl] = useState(\"https://www.google.com/?igu=1\");\n  const [hist, setHist] = useState([\"https://bing.com\", \"https://bing.com\"]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [ierror, setIerror] = useState(true);\n\n  // Check for ?destination= param on load\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const destination = params.get(\"destination\");\n    if (destination) {\n      setUrl(destination.startsWith(\"http\") ? destination : \"https://\" + destination);\n    }\n  }, []);\n\n  const isValidURL = (string) => {\n    const regex = /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g;\n    return string.match(regex) !== null;\n  };\n\n  const action = (e) => {\n    const iframe = document.getElementById(\"isite\");\n    const x = e.target.dataset.payload;\n\n    if (iframe && x === 0) {\n      iframe.src = iframe.src; // Reload the current page in the iframe\n    } else if (iframe && x === 1) {\n      setHist([url, \"https://www.bing.com\"]);\n      setUrl(\"https://www.bing.com\");\n      setIsTyping(false);\n    } else if (iframe && x === 2) {\n      setHist([url, \"https://www.google.com/webhp?igu=1\"]);\n      setUrl(\"https://www.google.com/webhp?igu=1\");\n      setIsTyping(false);\n    } else if (x === 3) {\n      if (e.key === \"Enter\") {\n        let qry = e.target.value;\n        if (isValidURL(qry)) {\n          if (!qry.startsWith(\"http\")) {\n            qry = \"https://\" + qry;\n          }\n        } else {\n          qry = \"https://www.bing.com/search?q=\" + qry;\n        }\n\n        e.target.value = qry;\n        setHist([hist[0], qry]);\n        setUrl(qry);\n        setIsTyping(false);\n      }\n    } else if (x === 4) {\n      setUrl(hist[0]);\n      setIsTyping(false);\n    } else if (x === 5) {\n      setUrl(hist[1]);\n      setIsTyping(false);\n    }\n  };\n\n  const typing = (e) => {\n    if (!isTyping) {\n      setIsTyping(true);\n      setHist([url, url]);\n    }\n    setUrl(e.target.value);\n  };\n\n  const handleFailed = () => {\n    setIerror(false);\n  };\n\n  return (\n    <div className=\"simple-browser w-screen h-screen flex flex-col\">\n      {/* Toolbar */}\n      <div className=\"addressBar w-full h-10 flex items-center bg-gray-100 px-2\">\n        <input\n          className=\"w-full h-8 px-3 rounded border border-gray-300\"\n          type=\"text\"\n          value={url}\n          onChange={typing}\n          onKeyDown={action}\n          data-payload={3}\n          placeholder=\"Type URL or search query\"\n        />\n      </div>\n\n      {/* Error Message */}\n      <div\n        className={`bg-red-100 w-64 rounded p-2 absolute bottom-0 right-0 my-4 mx-12 transition-all ${\n          ierror ? \"opacity-100\" : \"opacity-0 pointer-events-none\"\n        }`}\n      >\n        <div\n          className=\"absolute bg-red-400 m-1 text-red-900 text-xs px-1 font-bold handcr top-0 right-0 rounded hover:bg-red-500\"\n          onClick={handleFailed}\n        >\n          x\n        </div>\n        <div className=\"text-gray-800 text-xs font-medium\">\n          If it shows <b>\"Refused to connect\"</b>, then{\" \"}\n          <b>that website doesn't allow </b> other websites to show their content. <b>I cannot fix it</b>.\n        </div>\n      </div>\n\n      {/* Iframe */}\n      <div className=\"flex-grow\">\n        <iframe\n          src={url}\n          id=\"isite\"\n          sandbox=\"allow-scripts allow-same-origin allow-forms allow-modals allow-downloads allow-popups allow-presentation allow-popups-to-escape-sandbox\"\n          className=\"w-full h-full\"\n          frameBorder=\"0\"\n          title=\"browser-iframe\"\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}